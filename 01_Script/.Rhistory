install.packages(c("dplyr", "openxlsx", "readxl", "tidyr", "stringr", "lubridate"))
library(tidyr)
library(dplyr)
library(openxlsx)
library(readxl)
library(stringr)
library(lubridate) # Nos permite manejar fechas.
# Cargamos Nuestra Base
Educacion_Inicial <- read.csv("~/GitHub/Ninez-YA/02_RAW-Data/Educacion_Inicial.csv")
View(Educacion_Inicial)
educ_inicial <- educ_inicial %>%
mutate(FECHA = dmy(FECHA),   # Convertir la fecha de texto a formato Date
Año = year(FECHA))     # Extraemos el año y ya no tenemos día ni mes
educ_inicial <- read.csv("~/GitHub/Ninez-YA/02_RAW-Data/Educacion_Inicial.csv")
View(educ_inicial)
educ_inicial <- educ_inicial %>%
mutate(FECHA = dmy(FECHA),   # Convertir la fecha de texto a formato Date
Año = year(FECHA))     # Extraemos el año y ya no tenemos día ni mes
educ_inicial <- educ_inicial %>%
select(-1:-5,-7) # Acá Eliminamos las Primeras 5 columnas y la columna número 7
educ_inicial  <- educ_inicial  %>%
rename(anno = Año)
educ_inicial  <- educ_inicial  %>%
rename(codmpio = COD_DANE_MUNICIPIO)
View(educ_inicial)
educ_inicial <- educ_inicial %>% rename(educ_inicial_icbf = INDICADOR.1..EDUCACIÓN.INICIAL.ICBF..Incluye.Mujeres.Gestantes.)
educ_inicial <- educ_inicial %>% rename(educ_inicial_icbf = INDICADOR.1..EDUCACIÓN.INICIAL.ICBF..Incluye.Mujeres.Gestantes.)
educ_inicial <- educ_inicial %>% rename(educ_inicial_marco_integral = INDICADOR.2..NIÑOS.Y.NIÑAS.EN.PREESCOLAR.CON.EDUCACIÓN.INICIAL)
educ_inicial <- educ_inicial %>% rename(porcentaje_marco_integral = INDICADOR.4..CONCURRENCIA.DE.ATENCIONES)
educ_inicial_ICBF <- subset(educ_inicial, selec = c(codmpio, anno, educ_inicial_icbf))
View(educ_inicial_ICBF)
educ_inicial_marco_integral <- subset(educ_inicial, selec = c(codmpio, anno, educ_inicial_marco_integral))
View(educ_inicial_marco_integral)
porcentaje_marco_integral <- subset(educ_inicial, selec = c(codmpio, anno, porcentaje_marco_integral))
write.xlsx(educ_inicial_ICBF, file = "~/GitHub/Ninez-YA/03_Process/educ_inicial_ICBF.csv", col_names = TRUE")
write.xlsx(educ_inicial_ICBF, file = "~/GitHub/Ninez-YA/03_Process/educ_inicial_ICBF.xlsx", col_names = TRUE")
write.xlsx(educ_inicial_ICBF, file = "~/GitHub/Ninez-YA/03_Process/educ_inicial_ICBF.xlsx", col_names = TRUE)
write.xlsx(educ_inicial_marco_integral, file = "~/GitHub/Ninez-YA/03_Process/educ_inicial_marco_integral.xlsx", col_names = TRUE)
write.xlsx(porcentaje_marco_integral, file = "~/GitHub/Ninez-YA/03_Process/porcentaje_marco_integral.xlsx", col_names = TRUE)
# ================================================
# YA 3 Saber 11
# ================================================
# Librerías y Paquetes
install.packages(c("dplyr", "openxlsx", "readxl", "tidyr", "stringr"))
library(tidyr)
library(dplyr)
library(openxlsx)
library(readxl)
library(stringr)
# Cargamos Nuestra Base YA_1.3
YA_1.3 <- read_excel("/Users/daniel/Documents/GitHub/Ninez-YA/02_RAW-Data/YA_1.3.xlsx")
library(tidyr)
library(dplyr)
library(openxlsx)
library(readxl)
library(stringr)
# Cargamos Nuestra Base YA_1.3
YA_1.3 <- read_excel("/Users/daniel/Documents/GitHub/Ninez-YA/02_RAW-Data/YA_1.3.xlsx")
# Borramos la Variable Total General
YA_1.3 <- YA_1.3[ , -21]
# Separamos el CODMPIO del Nombre del Municipio
YA_1.3$codmpio <- str_replace(YA_1.3$codmpio, " - .*", "")
# Organizamos la Base de Datos, estos están en Wide, de manera que
# los vamos a convertir a Longer.
YA_1.3 <- YA_1.3 %>%
pivot_longer(
cols = starts_with("20"), # Seleccionamos las columnas que empiezan con "20" (años desde 2000)
names_to = "anno", # Nuevo nombre de columna para los nombres de las columnas originales
values_to = "mortalidad_menores_5" # Nuevo nombre de columna para los valores
)
# Podemos validar el formato Long
head(YA_1.3)
# ====================================================
# Sección: Merge Data
# ====================================================
# Verificamos la Estructura de los Datos, por ejemplo
class(YA_1.3$codmpio)
class(YA_1.3$anno)
class(YA_1.3$mortalidad_menores_5) # Podemos hacerlo paara cada una de las variables
class(menores_5_años$codmpio)
library(readxl)
menores_5_años <- read_excel("~/Documents/GitHub/Ninez-YA/03_Process/menores_5_años.xlsx")
View(menores_5_años)
# Cargamos Nuestra Base YA_1.3
YA_1.3 <- read_excel("/Users/daniel/Documents/GitHub/Ninez-YA/02_RAW-Data/YA_1.3.xlsx")
# Borramos la Variable Total General
YA_1.3 <- YA_1.3[ , -21]
# Separamos el CODMPIO del Nombre del Municipio
YA_1.3$codmpio <- str_replace(YA_1.3$codmpio, " - .*", "")
# Organizamos la Base de Datos, estos están en Wide, de manera que
# los vamos a convertir a Longer.
YA_1.3 <- YA_1.3 %>%
pivot_longer(
cols = starts_with("20"), # Seleccionamos las columnas que empiezan con "20" (años desde 2000)
names_to = "anno", # Nuevo nombre de columna para los nombres de las columnas originales
values_to = "mortalidad_menores_5" # Nuevo nombre de columna para los valores
)
# Podemos validar el formato Long
head(YA_1.3)
# ====================================================
# Sección: Merge Data
# ====================================================
# Verificamos la Estructura de los Datos, por ejemplo
class(YA_1.3$codmpio)
class(YA_1.3$anno)
class(YA_1.3$mortalidad_menores_5) # Podemos hacerlo paara cada una de las variables
class(menores_5_años$codmpio)
class(menores_5_años$anno)
class(menores_5_años$total_menores_5)
# Cambiamos de String a Numeric
YA_1.3 <- YA_1.3 %>%
mutate(codmpio = as.numeric(codmpio))
YA_1.3 <- YA_1.3 %>%
mutate(anno = as.numeric(anno))
# Realizamos el Inner Join * Cargamos el DataSet menores_5_años
YA_1.3_VF <- inner_join(menores_5_años, YA_1.3, by = c("codmpio","anno"))
# Creamos la Tasa de mortalidad por cualquier condición
YA_1.3_VF <- YA_1.3_VF %>%
mutate(tasa_mortalidad_menores_5 = (mortalidad_menores_5 / total_menores_5) * 1000)
# Exportamos la Versión Final de Nuestro Indicador
write.xlsx(YA_1.3_VF, "/Users/daniel/Documents/GitHub/Ninez-YA/03_Process/VF_YA_1.3.xlsx", col_names = TRUE)
# Fin del Código
View(YA_1.3_VF)
