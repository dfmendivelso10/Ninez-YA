library(dplyr)
library(openxlsx)
library(readxl)
CENSO_2005_2019 <- read_excel("/Users/df.mendivelso10/Documents/GitHub/Ninez-YA/02_RAW-Data/CENSO_2005_2019.xlsx")
CENSO_2005_2019 <- CENSO_2005_2019  %>%
filter(area_geografica == "Total")
CENSO_2005_2019 <- CENSO_2005_2019  %>%
filter(ÁREA GEOGRÁFICA == "Total")
View(CENSO_2005_2019)
View(CENSO_2005_2019)
CENSO_2005_2019 <- CENSO_2005_2019  %>%
filter('ÁREA GEOGRÁFICA' == "Total")
rm(CENSO_2005_2019)
CENSO_2005_2019 <- read_excel("/Users/df.mendivelso10/Documents/GitHub/Ninez-YA/02_RAW-Data/CENSO_2005_2019.xlsx")
CENSO_2005_2019 <- CENSO_2005_2019  %>%
filter(`ÁREA GEOGRÁFICA` == "Total")
View(CENSO_2005_2019)
censo_filtrado <- CENSO_2005_2019  %>%
select(-(Hombres_0:`Mujeres_85 y más`))
View(censo_filtrado)
View(censo_filtrado)
censo_filtrado <- censo_filtrado   %>%
select(-(`Total Hombres`:`Total General`))
censo_filtrado <- censo_filtrado   %>%
mutate(menores = rowSums(censo_filtrado[ , c(4:21)]))
rm(CENSO_2005_2019)
rm(censo_filtrado)
CENSO_2005_2019 <- read_excel("/Users/df.mendivelso10/Documents/GitHub/Ninez-YA/02_RAW-Data/CENSO_2005_2019.xlsx")
## Censo 2005 -2019 Con Proyecciones de Poblacion por Edad y Sexo, Tomamos el Total
## descartamos Urbano y Rural
## Filtramos la Poblacion Total eliminando las observaciones que solo tienen rural o urbano,
#tener en cuenta que esta variable puede cambiar de nombre, depende del archivo .xlsx del
# DANE
CENSO_2005_2019 <- CENSO_2005_2019  %>%
filter(`ÁREA GEOGRÁFICA` == "Total")
## Eliminamos las Variables que solo tienen información sobre la población de hombres y mujeres
## Recordemos que este DATA Set tiene un alto nivel de desagregación, nos quedamos con el valor total.
censo_filtrado <- CENSO_2005_2019  %>%
select(-(Hombres_0:`Mujeres_85 y más`))
## Borramos las variables total hombres, total mujeres, y total general porque solo nos interesa la población
## de 0 a 17 años.
censo_filtrado <- censo_filtrado   %>%
select(-(`Total Hombres`:`Total General`))
View(censo_filtrado)
censo_filtrado <- censo_filtrado   %>%
mutate(menores = rowSums(censo_filtrado[ , c(7:24)]))
poblacion_menores <-censo_filtrado %>% select(4,5,93)
View(poblacion_menores)
setwd("/Users/df.mendivelso10/Documents/GitHub/Ninez-YA")
write.xlsx(poblacion_menores,"~/03_Process/CENSO_2005_2019.xlsx/censo_denominador.xlsx", col_names = TRUE)
write.xlsx(poblacion_menores,"~03_Process/CENSO_2005_2019.xlsx/censo_denominador.xlsx", col_names = TRUE)
write.xlsx(poblacion_menores,"/03_Process/CENSO_2005_2019.xlsx/censo_denominador.xlsx", col_names = TRUE)
write.xlsx(poblacion_menores,"/Users/df.mendivelso10/Documents/GitHub/Ninez-YA/03_Process/poblacion_total_2005-2009.xlsx", col_names = TRUE)
